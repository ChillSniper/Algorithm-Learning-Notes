# 2024年冬季 数据结构课程笔记

## Lecture 27 散列

### 散列定义

散列函数$h$
将关键词的值映射到散列函数的地址
冲突：多个不同的关键词有相同的散列函数地址

### 散列函数

#### 除法取余法

M取值可以用质数

#### $MAD$法

哈希公式定义为$$h(K) = (a\times K + b) \% M$$
并且满足$$a > 1, b> 0, M\nmid a$$

#### 平方取中法

选取$K^2$的中间若干位作为$h(K)$的值

### 冲突处理办法

分为**开散列法**和**闭散列法**两种方法。其中闭散列法也是**开放地址法**

#### 开散列法-拉链法

即将散列地址为$i$的记录形成一个链表，并且指针$T[i]$为该单链表的头指针

#### 闭散列法

##### 线性探查

探查路径$$h_i = (h(K) + i)\% M$$
检查相邻元素，缓存命中率更高

**装填因子**为$$\alpha = N / M$$
其中$M$为散列表长度，$N$为填入散列表元素个数

衡量散列表查找效率的指标为**平均查找长度**，即$ASL$

对于查找不成功的情况的讨论

1. $h(k) = 1$，那么查找至$h(k) = 0$为止
2. $h(k) = 0$，即查找失败

注意散列表的长度**可能并不等于**散列计算公式所模数$M$

### 散列表的删除

对于**闭散列法**的删除方法，以**线性探查法**为例

对于删除位置的元素不能直接删除，否则可能会导致此前数据冲突存储后继的元素在之后的查找过程中失败

#### 懒惰删除

做个标记，表示已经删除了。
但是会造成大量空间的浪费

#### 实时删除

删除$T[j]$；首先将位置$j$清空，然后检查位置$j + 1$到下一个空位之前的每个位置$i$, 看将位置$j$清空后，是否影响查找$T[i]$的查找路径，若影响则将$T[i]$前移至空位

## Lecture 28 堆与优先级队列

在插入元素时要注意当前堆是**大根堆**还是**小根堆**！

### 优先级队列

实际上就是自定义实现**priority_queue**

使用优先级队列优化后的$Prim$算法时间复杂度为$O((n + e)logn)$

### **TOP K**问题

在一个元素数量为$n$的数组中取出最大的$k$个元素

算法设计：可以先维护一个$k$大小容量的**小根堆**，然后对$a_k, \dots a_{n - 1}$每次与堆顶元素进行比较，决定是否进行替换
